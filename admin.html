<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <style>
        :root {
            --primary-color: #2874f0;
            --secondary-color: #f0f0f0;
            --text-color: #212121;
            --white-color: #fff;
            --button-color: #fb641b;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: var(--secondary-color);
        }

        .header {
            background-color: var(--primary-color);
            color: var(--white-color);
            padding: 15px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
        }

        .container {
            padding: 20px;
        }

        .section {
            background-color: var(--white-color);
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .section h2 {
            margin-top: 0;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        button {
            background-color: var(--button-color);
            color: var(--white-color);
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: var(--secondary-color);
        }
    </style>
</head>
<body>

    <div class="header">
        Admin Panel
    </div>

    <div class="container">
        <div class="section">
            <h2>Dashboard</h2>
            <div id="dashboard">
                <p>Welcome to the admin panel. Manage your store from the sections below.</p>
                <p><strong>Payment Rule Text:</strong></p>
                <textarea id="paymentRuleText" rows="4" style="width: 100%;"></textarea>
                <button onclick="updatePaymentRule()">Update Payment Rule</button>
            </div>
        </div>

        <div class="section">
            <h2>Products</h2>
            <input type="hidden" id="productEditIndex">
            <div class="form-group">
                <label>Product Name</label>
                <input type="text" id="productName" placeholder="Product Name">
            </div>
            <div class="form-group">
                <label>Image URL</label>
                <input type="text" id="productImageUrl" placeholder="Image URL">
            </div>
            <div class="form-group">
                <label>Price</label>
                <input type="text" id="productPrice" placeholder="Price">
            </div>
            <div class="form-group">
                <label>Description</label>
                <input type="text" id="productDescription" placeholder="Description">
            </div>
            <button onclick="addProduct()">Add Product</button>
            <button onclick="updateProduct()" style="display:none;">Save Changes</button>
            <table id="productsTable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <div class="section">
            <h2>Sliders</h2>
            <input type="hidden" id="sliderEditIndex">
            <div class="form-group">
                <label>Image URL</label>
                <input type="text" id="sliderImageUrl" placeholder="Image URL">
            </div>
            <div class="form-group">
                <label>Link</label>
                <input type="text" id="sliderLink" placeholder="Link">
            </div>
            <button onclick="addSlider()">Add Slider</button>
            <button onclick="updateSlider()" style="display:none;">Save Changes</button>
            <table id="slidersTable">
                <thead>
                    <tr>
                        <th>Image URL</th>
                        <th>Link</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <div class="section">
            <h2>Categories</h2>
            <input type="hidden" id="categoryEditIndex">
            <div class="form-group">
                <label>Category Name</label>
                <input type="text" id="categoryName" placeholder="Category Name">
            </div>
            <div class="form-group">
                <label>Icon URL</label>
                <input type="text" id="categoryIcon" placeholder="Icon URL">
            </div>
            <button onclick="addCategory()">Add Category</button>
            <button onclick="updateCategory()" style="display:none;">Save Changes</button>
            <table id="categoriesTable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Icon URL</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <div class="section">
            <h2>Orders</h2>
            <table id="ordersTable">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Price</th>
                        <th>Date</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <script>
        let data = JSON.parse(localStorage.getItem('ecommerce-data')) || {
            sliders: [],
            categories: [],
            products: [],
            orders: [],
            paymentRule: 'You must pay 1/3 of the total amount as an advance payment. The remaining 2/3 can be paid after product delivery. Please contact us with the following payment methods: Bkash/Nagad/Rocket.'
        };

        const productsTable = document.getElementById('productsTable').getElementsByTagName('tbody')[0];
        const slidersTable = document.getElementById('slidersTable').getElementsByTagName('tbody')[0];
        const categoriesTable = document.getElementById('categoriesTable').getElementsByTagName('tbody')[0];
        const ordersTable = document.getElementById('ordersTable').getElementsByTagName('tbody')[0];
        const paymentRuleText = document.getElementById('paymentRuleText');

        function saveData() {
            localStorage.setItem('ecommerce-data', JSON.stringify(data));
        }

        function renderProducts() {
            productsTable.innerHTML = '';
            data.products.forEach((product, index) => {
                const row = productsTable.insertRow();
                row.innerHTML = '<td>' + product.name + '</td><td>' + product.price + '</td><td><button onclick="editProduct(' + index + ')">Edit</button><button onclick="removeProduct(' + index + ')">Remove</button></td>';
            });
        }

        function addProduct() {
            const name = document.getElementById('productName').value;
            const imageUrl = document.getElementById('productImageUrl').value;
            const price = document.getElementById('productPrice').value;
            const description = document.getElementById('productDescription').value;
            if (name && imageUrl && price) {
                data.products.push({ name, imageUrl, price, description });
                saveData();
                renderProducts();
                document.getElementById('productName').value = '';
                document.getElementById('productImageUrl').value = '';
                document.getElementById('productPrice').value = '';
                document.getElementById('productDescription').value = '';
            }
        }

        function editProduct(index) {
            const product = data.products[index];
            document.getElementById('productName').value = product.name;
            document.getElementById('productImageUrl').value = product.imageUrl;
            document.getElementById('productPrice').value = product.price;
            document.getElementById('productDescription').value = product.description;
            document.getElementById('productEditIndex').value = index;
            document.querySelector('#productsTable + button + button').style.display = 'inline-block';
            document.querySelector('#productsTable + button').style.display = 'none';
        }

        function updateProduct() {
            const index = document.getElementById('productEditIndex').value;
            const name = document.getElementById('productName').value;
            const imageUrl = document.getElementById('productImageUrl').value;
            const price = document.getElementById('productPrice').value;
            const description = document.getElementById('productDescription').value;
            if (name && imageUrl && price) {
                data.products[index] = { name, imageUrl, price, description };
                saveData();
                renderProducts();
                document.getElementById('productName').value = '';
                document.getElementById('productImageUrl').value = '';
                document.getElementById('productPrice').value = '';
                document.getElementById('productDescription').value = '';
                document.getElementById('productEditIndex').value = '';
                document.querySelector('#productsTable + button + button').style.display = 'none';
                document.querySelector('#productsTable + button').style.display = 'inline-block';
            }
        }

        function removeProduct(index) {
            data.products.splice(index, 1);
            saveData();
            renderProducts();
        }

        function renderSliders() {
            slidersTable.innerHTML = '';
            data.sliders.forEach((slider, index) => {
                const row = slidersTable.insertRow();
                row.innerHTML = '<td>' + slider.imageUrl + '</td><td>' + slider.link + '</td><td><button onclick="editSlider(' + index + ')">Edit</button><button onclick="removeSlider(' + index + ')">Remove</button></td>';
            });
        }

        function addSlider() {
            const imageUrl = document.getElementById('sliderImageUrl').value;
            const link = document.getElementById('sliderLink').value;
            if (imageUrl) {
                data.sliders.push({ imageUrl, link });
                saveData();
                renderSliders();
                document.getElementById('sliderImageUrl').value = '';
                document.getElementById('sliderLink').value = '';
            }
        }

        function editSlider(index) {
            const slider = data.sliders[index];
            document.getElementById('sliderImageUrl').value = slider.imageUrl;
            document.getElementById('sliderLink').value = slider.link;
            document.getElementById('sliderEditIndex').value = index;
            document.querySelector('#slidersTable + button + button').style.display = 'inline-block';
            document.querySelector('#slidersTable + button').style.display = 'none';
        }

        function updateSlider() {
            const index = document.getElementById('sliderEditIndex').value;
            const imageUrl = document.getElementById('sliderImageUrl').value;
            const link = document.getElementById('sliderLink').value;
            if (imageUrl) {
                data.sliders[index] = { imageUrl, link };
                saveData();
                renderSliders();
                document.getElementById('sliderImageUrl').value = '';
                document.getElementById('sliderLink').value = '';
                document.getElementById('sliderEditIndex').value = '';
                document.querySelector('#slidersTable + button + button').style.display = 'none';
                document.querySelector('#slidersTable + button').style.display = 'inline-block';
            }
        }

        function removeSlider(index) {
            data.sliders.splice(index, 1);
            saveData();
            renderSliders();
        }

        function renderCategories() {
            categoriesTable.innerHTML = '';
            data.categories.forEach((cat, index) => {
                const row = categoriesTable.insertRow();
                row.innerHTML = '<td>' + cat.name + '</td><td>' + cat.icon + '</td><td><button onclick="editCategory(' + index + ')">Edit</button><button onclick="removeCategory(' + index + ')">Remove</button></td>';
            });
        }

        function addCategory() {
            const name = document.getElementById('categoryName').value;
            const icon = document.getElementById('categoryIcon').value;
            if (name && icon) {
                data.categories.push({ name, icon });
                saveData();
                renderCategories();
                document.getElementById('categoryName').value = '';
                document.getElementById('categoryIcon').value = '';
            }
        }

        function editCategory(index) {
            const category = data.categories[index];
            document.getElementById('categoryName').value = category.name;
            document.getElementById('categoryIcon').value = category.icon;
            document.getElementById('categoryEditIndex').value = index;
            document.querySelector('#categoriesTable + button + button').style.display = 'inline-block';
            document.querySelector('#categoriesTable + button').style.display = 'none';
        }

        function updateCategory() {
            const index = document.getElementById('categoryEditIndex').value;
            const name = document.getElementById('categoryName').value;
            const icon = document.getElementById('categoryIcon').value;
            if (name && icon) {
                data.categories[index] = { name, icon };
                saveData();
                renderCategories();
                document.getElementById('categoryName').value = '';
                document.getElementById('categoryIcon').value = '';
                document.getElementById('categoryEditIndex').value = '';
                document.querySelector('#categoriesTable + button + button').style.display = 'none';
                document.querySelector('#categoriesTable + button').style.display = 'inline-block';
            }
        }

        function removeCategory(index) {
            data.categories.splice(index, 1);
            saveData();
            renderCategories();
        }

        function renderOrders() {
            ordersTable.innerHTML = '';
            data.orders.forEach((order, index) => {
                const row = ordersTable.insertRow();
                row.innerHTML = '<td>' + order.productName + '</td><td>' + order.price + '</td><td>' + order.date + '</td><td>' + order.status + '</td><td><select onchange="updateOrderStatus(' + index + ', this.value)"><option ' + (order.status === 'Pending' ? 'selected' : '') + '>Pending</option><option ' + (order.status === 'Paid' ? 'selected' : '') + '>Paid</option></select></td>';
            });
        }

        function updateOrderStatus(index, status) {
            data.orders[index].status = status;
            saveData();
            renderOrders();
        }

        function updatePaymentRule() {
            data.paymentRule = paymentRuleText.value;
            saveData();
            alert('Payment rule updated!');
        }

        function init() {
            renderProducts();
            renderSliders();
            renderCategories();
            renderOrders();
            paymentRuleText.value = data.paymentRule;
        }

        init();
    </script>
</body>
</html>
