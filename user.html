<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Panel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        :root {
            --primary-color: #2874f0;
            --secondary-color: #f0f0f0;
            --text-color: #212121;
            --white-color: #fff;
            --button-color: #fb641b;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: var(--secondary-color);
        }

        .header {
            background-color: var(--primary-color);
            color: var(--white-color);
            padding: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header .logo {
            font-size: 20px;
            font-weight: bold;
        }

        .header .menu {
            display: flex;
            gap: 15px;
        }

        .search-bar {
            padding: 10px;
            background-color: var(--white-color);
            border-bottom: 1px solid #ddd;
        }

        .search-bar input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .slider {
            width: 100%;
            overflow: hidden;
            margin-top: 10px;
        }

        .slides {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        .slide {
            min-width: 100%;
        }

        .slide img {
            width: 100%;
            display: block;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            padding: 10px;
            background-color: var(--white-color);
            margin-top: 10px;
        }

        .category {
            text-align: center;
        }

        .category img {
            width: 50px;
            height: 50px;
        }

        .products {
            padding: 10px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .product-card {
            background-color: var(--white-color);
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            text-align: center;
        }

        .product-card img {
            width: 100%;
            height: 120px;
            object-fit: cover;
        }

        .product-card h3 {
            font-size: 16px;
            margin: 10px 0;
        }

        .product-card .price {
            font-weight: bold;
            color: #388e3c;
        }

        .product-card button {
            background-color: var(--button-color);
            color: var(--white-color);
            border: none;
            padding: 10px;
            width: 100%;
            border-radius: 5px;
            margin-top: 10px;
            cursor: pointer;
        }

        .order-page {
            display: none;
            padding: 20px;
            background-color: var(--white-color);
        }

        .order-page h2 {
            text-align: center;
            margin-bottom: 20px;
        }

        .payment-rule {
            background-color: #fffbe6;
            border: 1px solid #ffe58f;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="logo">Flipkart</div>
        <div class="menu">
            <div><i class="fas fa-user"></i> Login</div>
            <div><i class="fas fa-shopping-cart"></i> Cart</div>
        </div>
    </div>

    <div class="search-bar">
        <input type="text" placeholder="Search for products, brands and more">
    </div>

    <div class="slider">
        <div class="slides" id="slides">
            <!-- Slides will be added here by JS -->
        </div>
    </div>

    <div class="categories" id="categories">
        <!-- Categories will be added here by JS -->
    </div>

    <div class="products" id="products">
        <!-- Products will be added here by JS -->
    </div>

    <div class="order-page" id="order-page">
        <h2>Order Confirmation</h2>
        <div id="orderDetails"></div>
        <div class="payment-rule" id="payment-rule">
            <h3>Payment Rule</h3>
            <p></p>
        </div>
        <div>
            <button onclick="confirmOrder()">Confirm Order</button>
            <button onclick="showMainPage()">Back to Products</button>
        </div>
    </div>

    <script>
        const slidesContainer = document.getElementById('slides');
        const categoriesContainer = document.getElementById('categories');
        const productsContainer = document.getElementById('products');
        const orderPage = document.getElementById('order-page');
        const mainPage = document.querySelector('.products');
        const paymentRuleP = document.querySelector('#payment-rule p');
        const orderDetailsContainer = document.getElementById('orderDetails');
        let currentProductIndex = null;

        let data = {
            sliders: [
                {
                    imageUrl: 'https://via.placeholder.com/600x300.png/09f/fff?text=Slide+1',
                    link: '#'
                },
                {
                    imageUrl: 'https://via.placeholder.com/600x300.png/f09/fff?text=Slide+2',
                    link: '#'
                }
            ],
            categories: [
                { name: 'Electronics', icon: 'https://via.placeholder.com/50' },
                { name: 'Fashion', icon: 'https://via.placeholder.com/50' },
                { name: 'Home', icon: 'https://via.placeholder.com/50' },
                { name: 'Toys', icon: 'https://via.placeholder.com/50' }
            ],
            products: [
                { name: 'Product 1', imageUrl: 'https://via.placeholder.com/150', price: '$10', description: 'Description 1' },
                { name: 'Product 2', imageUrl: 'https://via.placeholder.com/150', price: '$20', description: 'Description 2' }
            ],
            orders: [],
            paymentRule: 'You must pay 1/3 of the total amount as an advance payment. The remaining 2/3 can be paid after product delivery. Please contact us with the following payment methods: Bkash/Nagad/Rocket.'
        };

        if (!localStorage.getItem('ecommerce-data')) {
            localStorage.setItem('ecommerce-data', JSON.stringify(data));
        } else {
            data = JSON.parse(localStorage.getItem('ecommerce-data'));
        }

        let currentSlide = 0;

        function renderSlider() {
            slidesContainer.innerHTML = '';
            data.sliders.forEach(function(slide) {
                const slideElement = document.createElement('div');
                slideElement.className = 'slide';
                slideElement.innerHTML = '<a href="' + slide.link + '"><img src="' + slide.imageUrl + '" alt="slide"></a>';
                slidesContainer.appendChild(slideElement);
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % data.sliders.length;
            slidesContainer.style.transform = 'translateX(-' + (currentSlide * 100) + '%)';
        }

        function renderCategories() {
            categoriesContainer.innerHTML = '';
            data.categories.forEach(function(cat) {
                const categoryElement = document.createElement('div');
                categoryElement.className = 'category';
                categoryElement.innerHTML = '<img src="' + cat.icon + '" alt="' + cat.name + '"><div>' + cat.name + '</div>';
                categoriesContainer.appendChild(categoryElement);
            });
        }

        function renderProducts() {
            productsContainer.innerHTML = '';
            data.products.forEach(function(prod, index) {
                const productElement = document.createElement('div');
                productElement.className = 'product-card';
                productElement.innerHTML =
                    '<img src="' + prod.imageUrl + '" alt="' + prod.name + '">' +
                    '<h3>' + prod.name + '</h3>' +
                    '<div class="price">' + prod.price + '</div>' +
                    '<p>' + prod.description + '</p>' +
                    '<button onclick="showOrderPage(' + index + ')">Order Now</button>';
                productsContainer.appendChild(productElement);
            });
        }

        function showOrderPage(productIndex) {
            currentProductIndex = productIndex;
            const product = data.products[productIndex];
            orderDetailsContainer.innerHTML = '<h3>' + product.name + '</h3><p>Price: ' + product.price + '</p>';
            mainPage.style.display = 'none';
            document.querySelector('.slider').style.display = 'none';
            document.querySelector('.categories').style.display = 'none';
            orderPage.style.display = 'block';
            paymentRuleP.textContent = data.paymentRule;
        }

        function confirmOrder() {
            if (currentProductIndex !== null) {
                const product = data.products[currentProductIndex];
                const order = {
                    productName: product.name,
                    price: product.price,
                    status: 'Pending',
                    date: new Date().toLocaleDateString()
                };
                data.orders.push(order);
                localStorage.setItem('ecommerce-data', JSON.stringify(data));
                alert('Order placed successfully!');
                showMainPage();
            }
        }

        function showMainPage() {
            mainPage.style.display = 'grid';
            document.querySelector('.slider').style.display = 'block';
            document.querySelector('.categories').style.display = 'grid';
            orderPage.style.display = 'none';
        }

        function init() {
            renderSlider();
            renderCategories();
            renderProducts();
            setInterval(nextSlide, 3000);
        }

        init();
    </script>
</body>
</html>
